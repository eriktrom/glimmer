export default class CompiledConcat {
    constructor({ parts }) {
        this.type = "concat";
        this.parts = parts;
    }
    evaluate(vm) {
        let parts = this.parts.map(p => p.evaluate(vm));
        return new ConcatReference(parts);
    }
}
class ConcatReference {
    constructor(parts) {
        this.parts = parts;
    }
    isDirty() {
        return true;
    }
    value() {
        return this.parts.map(p => p.value()).join('');
    }
    destroy() { }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uY2F0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZ2xpbW1lci1ydW50aW1lL2xpYi9jb21waWxlZC9leHByZXNzaW9ucy9jb25jYXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUE7SUFJRSxZQUFZLEVBQUUsS0FBSyxFQUFtQztRQUgvQyxTQUFJLEdBQUcsUUFBUSxDQUFDO1FBSXJCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxRQUFRLENBQUMsRUFBTTtRQUNiLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDaEQsTUFBTSxDQUFDLElBQUksZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BDLENBQUM7QUFDSCxDQUFDO0FBRUQ7SUFHRSxZQUFZLEtBQXNCO1FBQ2hDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxPQUFPO1FBQ0wsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxLQUFLO1FBQ0gsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELE9BQU8sS0FBSSxDQUFDO0FBQ2QsQ0FBQztBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcGlsZWRFeHByZXNzaW9uIH0gZnJvbSAnLi4vZXhwcmVzc2lvbnMnO1xuaW1wb3J0IFZNIGZyb20gJy4uLy4uL3ZtJztcbmltcG9ydCB7IFBhdGhSZWZlcmVuY2UsIENoYWluYWJsZVJlZmVyZW5jZSB9IGZyb20gJ2dsaW1tZXItcmVmZXJlbmNlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcGlsZWRDb25jYXQge1xuICBwdWJsaWMgdHlwZSA9IFwiY29uY2F0XCI7XG4gIHB1YmxpYyBwYXJ0czogQ29tcGlsZWRFeHByZXNzaW9uW107XG5cbiAgY29uc3RydWN0b3IoeyBwYXJ0cyB9OiB7IHBhcnRzOiBDb21waWxlZEV4cHJlc3Npb25bXSB9KSB7XG4gICAgdGhpcy5wYXJ0cyA9IHBhcnRzO1xuICB9XG5cbiAgZXZhbHVhdGUodm06IFZNKTogQ29uY2F0UmVmZXJlbmNlIHtcbiAgICBsZXQgcGFydHMgPSB0aGlzLnBhcnRzLm1hcChwID0+IHAuZXZhbHVhdGUodm0pKTtcbiAgICByZXR1cm4gbmV3IENvbmNhdFJlZmVyZW5jZShwYXJ0cyk7XG4gIH1cbn1cblxuY2xhc3MgQ29uY2F0UmVmZXJlbmNlIGltcGxlbWVudHMgQ2hhaW5hYmxlUmVmZXJlbmNlIHtcbiAgcHJpdmF0ZSBwYXJ0czogUGF0aFJlZmVyZW5jZVtdO1xuXG4gIGNvbnN0cnVjdG9yKHBhcnRzOiBQYXRoUmVmZXJlbmNlW10pIHtcbiAgICB0aGlzLnBhcnRzID0gcGFydHM7XG4gIH1cblxuICBpc0RpcnR5KCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFydHMubWFwKHAgPT4gcC52YWx1ZSgpKS5qb2luKCcnKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7fVxufVxuIl19