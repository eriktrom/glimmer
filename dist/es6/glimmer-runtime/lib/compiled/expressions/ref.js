import { referenceFromParts } from 'glimmer-reference';
export class CompiledLocalRef {
    constructor({ symbol, lookup }) {
        this.type = "local-ref";
        this.symbol = symbol;
        this.lookup = lookup;
    }
    evaluate(vm) {
        let base = vm.referenceForSymbol(this.symbol);
        return referenceFromParts(base, this.lookup);
    }
}
export class CompiledSelfRef {
    constructor({ parts }) {
        this.type = "self-ref";
        this.parts = parts;
    }
    evaluate(vm) {
        return referenceFromParts(vm.getSelf(), this.parts);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVmLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZ2xpbW1lci1ydW50aW1lL2xpYi9jb21waWxlZC9leHByZXNzaW9ucy9yZWYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ik9BR08sRUFBaUIsa0JBQWtCLEVBQUUsTUFBTSxtQkFBbUI7QUFFckU7SUFLRSxZQUFZLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBZ0Q7UUFKckUsU0FBSSxHQUFHLFdBQVcsQ0FBQztRQUt4QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBRUQsUUFBUSxDQUFDLEVBQU07UUFDYixJQUFJLElBQUksR0FBa0IsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM3RCxNQUFNLENBQUMsa0JBQWtCLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMvQyxDQUFDO0FBQ0gsQ0FBQztBQUVEO0lBSUUsWUFBWSxFQUFFLEtBQUssRUFBK0I7UUFIM0MsU0FBSSxHQUFHLFVBQVUsQ0FBQztRQUl2QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNyQixDQUFDO0lBRUQsUUFBUSxDQUFDLEVBQU07UUFDYixNQUFNLENBQUMsa0JBQWtCLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN0RCxDQUFDO0FBQ0gsQ0FBQztBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcGlsZWRFeHByZXNzaW9uIH0gZnJvbSAnLi4vZXhwcmVzc2lvbnMnO1xuaW1wb3J0IFZNIGZyb20gJy4uLy4uL3ZtJztcbmltcG9ydCB7IEludGVybmVkU3RyaW5nIH0gZnJvbSAnZ2xpbW1lci11dGlsJztcbmltcG9ydCB7IFBhdGhSZWZlcmVuY2UsIHJlZmVyZW5jZUZyb21QYXJ0cyB9IGZyb20gJ2dsaW1tZXItcmVmZXJlbmNlJztcblxuZXhwb3J0IGNsYXNzIENvbXBpbGVkTG9jYWxSZWYgaW1wbGVtZW50cyBDb21waWxlZEV4cHJlc3Npb24ge1xuICBwdWJsaWMgdHlwZSA9IFwibG9jYWwtcmVmXCI7XG4gIHByaXZhdGUgc3ltYm9sOiBudW1iZXI7XG4gIHByaXZhdGUgbG9va3VwOiBJbnRlcm5lZFN0cmluZ1tdO1xuXG4gIGNvbnN0cnVjdG9yKHsgc3ltYm9sLCBsb29rdXAgfTogeyBzeW1ib2w6IG51bWJlciwgbG9va3VwOiBJbnRlcm5lZFN0cmluZ1tdIH0pIHtcbiAgICB0aGlzLnN5bWJvbCA9IHN5bWJvbDtcbiAgICB0aGlzLmxvb2t1cCA9IGxvb2t1cDtcbiAgfVxuXG4gIGV2YWx1YXRlKHZtOiBWTSk6IFBhdGhSZWZlcmVuY2Uge1xuICAgIGxldCBiYXNlOiBQYXRoUmVmZXJlbmNlID0gdm0ucmVmZXJlbmNlRm9yU3ltYm9sKHRoaXMuc3ltYm9sKTtcbiAgICByZXR1cm4gcmVmZXJlbmNlRnJvbVBhcnRzKGJhc2UsIHRoaXMubG9va3VwKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGlsZWRTZWxmUmVmIGltcGxlbWVudHMgQ29tcGlsZWRFeHByZXNzaW9uIHtcbiAgcHVibGljIHR5cGUgPSBcInNlbGYtcmVmXCI7XG4gIHByaXZhdGUgcGFydHM6IEludGVybmVkU3RyaW5nW107XG5cbiAgY29uc3RydWN0b3IoeyBwYXJ0cyB9OiB7IHBhcnRzOiBJbnRlcm5lZFN0cmluZ1tdIH0pIHtcbiAgICB0aGlzLnBhcnRzID0gcGFydHM7XG4gIH1cblxuICBldmFsdWF0ZSh2bTogVk0pOiBQYXRoUmVmZXJlbmNlIHtcbiAgICByZXR1cm4gcmVmZXJlbmNlRnJvbVBhcnRzKHZtLmdldFNlbGYoKSwgdGhpcy5wYXJ0cyk7XG4gIH1cbn1cbiJdfQ==